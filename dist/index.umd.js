!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("theme-ui"),require("tinycolor2"),require("framer-motion")):"function"==typeof define&&define.amd?define(["exports","react","theme-ui","tinycolor2","framer-motion"],t):t((e=e||self).chatWidgetSdk={},e.react,e.themeUi,e.tinycolor2,e.framerMotion)}(this,function(e,t,o,i,n){var r="default"in t?t.default:t;function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e}).apply(this,arguments)}i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var l=t.createContext({isOpen:!1,toggle:function(){return null}}),d=function(e){var n,r,a,d=e.children,s=e.primaryColor,c=t.useState(!1),g=c[0],h=c[1],p={useBodyStyles:!1,space:[0,4,8,16,32,64,128,256,512],fonts:{body:'-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;',heading:'-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;',monospace:'"Roboto Mono", monospace'},fontSizes:[12,14,16,20,24,32,48,64,96],fontWeights:{body:400,heading:600,bold:600},lineHeights:{body:1.5,heading:1.125},colors:{text:"#141414",background:"#fff",primary:(a={primary:(r=i(void 0===(n=s||"1890ff")?"#1890ff":n)).toString(),light:r.lighten().toString(),dark:r.darken().toString()}).primary,darker:a.dark,lighter:a.light,secondary:"#722ed1",green:"#52c41a",red:"#ff4d4f",muted:"#f0f0f0",gray:"rgba(0, 0, 0, 0.45)",input:"rgba(0, 0, 0, 0.65)",offset:"rgba(255, 255, 255, 0.8)"},text:{default:{color:"text",fontSize:1},caps:{textTransform:"uppercase",letterSpacing:"0.2em"},heading:{fontFamily:"heading",fontWeight:"heading",lineHeight:"heading"}},buttons:{primary:{cursor:"pointer",outline:0,transition:"0.2s",background:a.primary,borderColor:a.primary,"&:hover":{background:a.light,borderColor:a.light},"&:active":{background:a.dark,borderColor:a.dark}},secondary:{cursor:"pointer",outline:0,transition:"0.2s",background:r.lighten(40).toString(),color:a.primary,borderColor:a.primary,borderWidth:1,borderStyle:"solid","&:hover":{color:"#fff",background:a.primary,borderColor:a.primary},"&:active":{background:a.dark,borderColor:a.dark}},link:{cursor:"pointer",outline:0,transition:"0.2s",backgroundColor:"background","&:hover":{backgroundColor:"offset",borderColor:"offset"},"&:active":{backgroundColor:"offset",borderColor:"offset"}}},styles:{root:{fontFamily:"body",lineHeight:"body",fontWeight:"body",fontSize:1},h1:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:5},h2:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:4},h3:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:3},h4:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:2},h5:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:1},h6:{color:"text",fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:0},p:{color:"text",fontFamily:"body",fontWeight:"body",lineHeight:"body"},a:{color:"primary",userSelect:"none","&:hover":{color:a.light},"&:active":{color:a.dark}},pre:{fontFamily:"monospace",overflowX:"auto",code:{color:"inherit"}},code:{fontFamily:"monospace",fontSize:"inherit"},table:{width:"100%",borderCollapse:"separate",borderSpacing:0},th:{textAlign:"left",borderBottomStyle:"solid"},td:{textAlign:"left",borderBottomStyle:"solid"},img:{maxWidth:"100%"},input:{transparent:{border:"none",boxShadow:"none",resize:"none",outline:0,"&:hover":{border:"none",boxShadow:"none",resize:"none",outline:0},"&:active":{border:"none",boxShadow:"none",resize:"none",outline:0},"&:focus":{border:"none",boxShadow:"none",resize:"none",outline:0},"&:disabled":{opacity:.8,cursor:"not-allowed"}}},WidgetContainer:{margin:0,zIndex:2147483e3,position:"fixed",bottom:100,right:20,width:376,maxWidth:["90%","376px"],minHeight:250,maxHeight:["60%","704px"],boxShadow:"rgba(0, 0, 0, 0.16) 0px 5px 40px",height:"calc(100% - 120px)",borderRadius:8,overflow:"hidden"},WidgetToggleContainer:{position:"fixed",zIndex:2147483003,bottom:"20px",right:"20px"},WidgetToggle:{outline:"none",border:"none",userSelect:"none",cursor:"pointer",width:"50px",height:"50px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"}}};return t.createElement(o.ThemeUIProvider,{theme:p},t.createElement(l.Provider,{value:{isOpen:g,toggle:function(){h(!g)}}},d))},s=function(e){return r.createElement(n.motion.path,Object.assign({fill:"transparent",strokeWidth:"3",stroke:"hsl(0, 0%, 99%)",strokeLinecap:"round"},e))},c=function(){return r.createElement("svg",{width:"27",height:"27",viewBox:"0 0 27 27"},r.createElement(s,{variants:{closed:{opacity:0,d:"M 7.5 14.5 L 19 14.5"},open:{opacity:1,d:"M 7 7 L 20 20"}},transition:{duration:.2}}),r.createElement(s,{variants:{closed:{opacity:0,d:"M 7.5 8.5 L 19 8.5"},open:{opacity:1,d:"M 7 20 L 20 7"}},transition:{duration:.2}}),r.createElement(s,{d:"M22 21.6453C22 20 23 19.5 23 19.5C23 19.5 25.5 18 25.5 14V9C25.5 4 23 1.5 18 1.5H9C4 1.5 1.5 4 1.5 9V14C1.5 19 4 21 9 21H13.5C14 21 14 21 15 21.5L20.25 24.8572L20.8517 25.2118C21.5184 25.6046 22 25.631 22 24.8572V24.0287V22.7858V21.6453Z",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.2}}))},g=function(){return r.createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none"},r.createElement(s,{variants:{closed:{opacity:0,d:"M 7.5 14.5 L 19 14.5"},open:{opacity:1,d:"M 5 5 L 20 20"}},transition:{duration:.2}}),r.createElement(s,{variants:{closed:{opacity:0,d:"M 7.5 8.5 L 19 8.5"},open:{opacity:1,d:"M 5 20 L 20 5"}},transition:{duration:.2}}),r.createElement(n.motion.path,{d:"M20.5 21.1453C20.5 19.5 21.5 19 21.5 19C21.5 19 24 18.5 24 13.5V8.5C24 3.5 21.5 1 16.5 1H7.5C2.5 1 0 3.5 0 8.5V13.5C0 18.5 2.5 20.5 7.5 20.5H12C12.5 20.5 12.5 20.5 13.5 21L18.75 24.3572L19.3517 24.7118C20.0184 25.1046 20.5 25.131 20.5 24.3572V23.5287V22.2858V21.1453Z",fill:"white",fillOpacity:"0.7",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.2}}),r.createElement(n.motion.path,{fillRule:"evenodd",clipRule:"evenodd",d:"M21.5 18C21.5 18 20.5 18.5 20.5 20.1453V21.2858V22.5287V23.3572C20.5 24.131 20.0184 24.1046 19.3517 23.7118L18.75 23.3572L13.5 20C12.8174 19.6587 12.6007 19.5504 12.3729 19.516C12.267 19.5 12.1587 19.5 12 19.5H7.5C2.5 19.5 0 17.5 0 12.5V7.5C0 2.5 2.5 0 7.5 0H16.5C21.5 0 24 2.5 24 7.5V12.5C24 17.5 21.5 18 21.5 18ZM21 17.557C21.8581 17.557 24 13.557 23 13.057C22.3869 12.7505 21.8801 13.7414 21.4646 14.554C21.2023 15.0668 20.9764 15.5086 20.783 15.5086C20.283 15.5086 20 16.0554 20 16.7568C20 17.4582 20.1419 17.557 21 17.557Z",fill:"white",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.2}}))},h=function(){return r.createElement("svg",{width:"27",height:"27",viewBox:"0 0 27 27"},r.createElement(s,{variants:{closed:{opacity:0,d:"M 7.5 14.5 L 19 14.5"},open:{opacity:1,d:"M 7 7 L 20 20"}},transition:{duration:.2}}),r.createElement(s,{variants:{closed:{opacity:0,d:"M 7.5 8.5 L 19 8.5"},open:{opacity:1,d:"M 7 20 L 20 7"}},transition:{duration:.2}}))},p=function(e){var t=e.customIconUrl,i=e.iconVariant;return t?e.isOpen?r.createElement(h,null):r.createElement(o.Image,{src:t,style:{maxHeight:40,maxWidth:40}}):r.createElement("filled"===i?g:c,null)},u=function(e){var t=e.isOpen;return r.createElement(o.Button,{className:"Papercups-toggleButton",variant:"primary",p:0,style:e.style,sx:{variant:"styles.WidgetToggle"},disabled:e.isDisabled,onClick:e.toggle,"aria-label":(t?"Close":"Open")+" chat widget"},r.createElement(p,{customIconUrl:e.customIconUrl,iconVariant:e.iconVariant,isOpen:t}))},f=["allow-scripts","allow-popups","allow-same-origin","allow-forms"].join(" ");function m(e){var o=e.title,i=e.query,r=e.styles,d=e.position,s=function(){var e=t.useContext(l);if(void 0===e)throw new Error("useChatContext must be used within a ChatProvider");return e}(),c=s.isOpen,g=s.toggle,h=function(e,t){void 0===e&&(e={});var o=e.chatContainer,i=void 0===o?{}:o,n=e.toggleContainer,r=void 0===n?{}:n,l=e.toggleButton,d=void 0===l?{}:l,s=t.side,c=t.offset,g=void 0===c?20:c;switch(void 0===s?"right":s){case"left":return{chatContainer:a({left:g,right:"auto"},i),toggleContainer:a({left:g,right:"auto"},r),toggleButton:d};case"right":default:return{chatContainer:a({right:g,left:"auto"},i),toggleContainer:a({right:g,left:"auto"},r),toggleButton:d}}}(r,function(e){if(!e)return{side:"right",offset:20};switch(e){case"left":return{side:"left",offset:20};case"right":return{side:"right",offset:20};default:return e}}(d)),p=h.chatContainer,m=h.toggleContainer,y=void 0===m?{}:m,b=h.toggleButton,v=void 0===b?{}:b;return t.createElement(t.Fragment,null,t.createElement(n.motion.iframe,{className:"chatWindowContainer",title:o||"Welcome to Chat Widget",sandbox:f,animate:"open",initial:"closed",variants:{closed:{opacity:0,y:4},open:{opacity:1,y:0}},transition:{duration:.2,ease:"easeIn"},src:"https://chat-widget-nu.vercel.app?"+i,style:c?a({border:"none",margin:0,zIndex:2147483e3,position:"fixed",bottom:100,right:20,width:376,maxWidth:["90%","376px"],minHeight:250,maxHeight:["60%","704px"],boxShadow:"rgba(0, 0, 0, 0.16) 0px 5px 40px",height:"calc(100% - 120px)",borderRadius:8,overflow:"hidden"},void 0===p?{}:p):{pointerEvents:"none",height:0,minHeight:0,border:"none"}},"Loading..."),t.createElement(n.motion.div,{className:"toggleButtonContainer",style:a({position:"fixed",zIndex:2147483003,bottom:"20px",right:"20px"},y),initial:!1,animate:c?"open":"closed"},t.createElement(u,{style:a({outline:"none !important",border:"none !important",userSelect:"none !important",cursor:"pointer",width:"50px",height:"50px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},v),isOpen:c,iconVariant:"filled",toggle:g})))}var y=function(e){var o=e.companyName,i=e.customerId,n=e.showAgentAvailability,r=e.title,a=void 0===r?"Welcome":r,l=e.subtitle,s=e.primaryColor,c=void 0===s?"1890ff":s,g=e.position,h=void 0===g?"right":g,p=e.styles,u=void 0===p?{}:p,f=function(e){var t=[];for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];t.push(encodeURIComponent(o)+"="+encodeURIComponent(i))}return t.join("&")}({title:a,companyName:void 0===o?"":o,customerId:void 0===i?"":i,showAgentAvailability:void 0!==n&&n,subtitle:void 0===l?"Hi, how can I help you today?":l,primaryColor:c,isMoblie:"undefined"!=typeof window&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)});return t.createElement(d,{primaryColor:c},t.createElement(m,{title:a,query:f,position:h,styles:u}))};e.ChatWidget=y,e.ChatWidgetSDK={},e.default=y});
//# sourceMappingURL=index.cjs.umd.js.map
